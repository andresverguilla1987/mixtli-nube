<!doctype html>
<meta charset="utf-8">
<title>Mixtli Relay Tester</title>
<div>
  <label>URL del backend:</label>
  <input id="api" type="text" value="https://mixtli-nube.onrender.com">
  <input id="file" type="file">
  <button id="send">Subir</button>
  <pre id="out"></pre>
</div>
<script>
const api=document.querySelector('#api');
const f=document.querySelector('#file');
const out=document.querySelector('#out');
document.querySelector('#send').onclick=async ()=>{
  try{
    if(!f.files[0]){ out.textContent='Elige un archivo'; return; }
    const fd=new FormData(); fd.append('file', f.files[0]);
    const r=await fetch(api.value.replace(/\/$/,'')+'/api/upload',{method:'POST',body:fd});
    out.textContent=await r.text();
  }catch(e){ out.textContent='Error: '+e.message; }
};
</script>